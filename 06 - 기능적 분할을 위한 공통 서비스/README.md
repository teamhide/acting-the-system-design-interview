# 06장. 기능적 분할을 위한 공통 서비스

## 6.1 다양한 서비스의 공통 기능

### 6.1.1 보안

API 게이트웨이의 여러 기능은 서비스 데이터의 무단 접근을 방지한다.

- 인증/인가
- SSL 종료: 종료는 보통 API 게이트웨이가 아니라 동일한 호스트에서 프로세스로 실행되는 별도의 HTTP 프록시에 의해 처리된다. 로드 밸런서에서의 종료는 비용이 많이 들므로 API 게이트웨이에서 종료를 수행한다.
- 서버 사이드 데이터 암호화

### 6.1.2 오류 검사

- 요청 유효성 검사
- 요청 중복 제거

### 6.1.3 성능과 가용성

- 캐싱
- Rate limit
- 요청 디스패칭: 벌크헤드와 서킷 브레이커 등

### 6.1.4 로깅과 분석

## 6.2 서비스 메시/사이드카 패턴

이 설계의 작은 단점은 서비스가 작동중이더라도 사이드카를 사용할 수 없으면 서비스의 호스트를 사용할 수 없다는 것이다. 이것이 일반적으로 단일 호스트에서 여러 서비스나 컨테이너를 실행하지 않는 이유다.

## 6.3 메타데이터 서비스

## 6.4 서비스 디스커버리

서비스 디스커버리는 클라이언트가 사용 가능한 서비스 호스트를 식별하는 방법이다. 서비스 레지스트리는 서비스의 사용 가능한 호스트를 추적하는 데이터베이스다. 

## 6.5 기능적 분할과 다양한 프레임워크

### 6.5.1 앱의 기본 시스템 설계

### 6.5.2 웹 서버 앱의 목적

### 6.5.3 웹과 모바일 프레임워크

**브라우저 앱 개발**

**모바일 앱 개발**

**크로스 플랫폼 개발**

**백엔드 개발**

## 6.6 라이브러리와 서비스

### 6.6.1 언어 특정적 vs 기술에 구애받지 않음

### 6.6.2 지연 시간의 예측 가능성

### 6.6.3 동작의 예측 가능성과 재현성

### 6.6.4 라이브러리의 확장성 고려사항

라이브러리만 확장하려면 사용자가 해당 라이브러리를 감싸는 자체 서비스를 만들고 그 서비스를 확장할 수 있다. 하지만 이는 더 이상 라이브러리가 아니라 사용자가 소유한 서비스가 되므로 확장 비용은 사용자가 부담한다.

### 6.6.5 기타 고려사항

## 6.7 일반적인 API 패러다임

### 6.7.1 개방형 시스템 상호 연결(OSI) 모델

### 6.7.2 REST

**하이퍼미디어**

**캐싱**

캐싱에는 Expires, Cache-Control, ETag, Last-Modified HTTP 헤더를 사용한다.

**REST의 단점**

### 6.7.3 RPC(원격 프로시저 호출)

### 6.7.4 GraphQL

### 6.7.5 웹소켓

### 6.7.6 비교
